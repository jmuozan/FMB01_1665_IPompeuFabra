<!DOCTYPE html>
<html lang="ca">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300..700&display=swap" rel="stylesheet">
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.15.1/css/all.css"
      integrity="sha384-vp86vTRFVJgpjF9jiIGPEEqYqlDwgyBgEF109VFjmqGmIY/Y4HV4d3Gp2irVfcrp"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="../../../styles/styles.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <title>RA1 - Digitalització Aplicada al Sector Productiu</title>
    <style>
      .slideshow-container {
        width: 100%;
        height: 95vh;
        background: transparent;
        border-radius: 10px;
        overflow: hidden;
        margin: 1rem 0;
        max-width: 1800px;
        margin-left: auto;
        margin-right: auto;
      }

      .slideshow-fallback {
        position: relative;
        width: 100%;
        height: 100%;
      }

      .slide-display {
        width: 100%;
        height: 100%;
        text-align: center;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .image-wrapper {
        position: relative;
        display: inline-block;
      }

      #current-slide-img {
        max-width: 100%;
        max-height: 85vh;
        min-height: 600px;
        object-fit: contain;
        display: none;
        image-rendering: crisp-edges;
        image-rendering: -webkit-optimize-contrast;
      }

      #pdf-iframe {
        width: 100%;
        height: 100%;
        border: none;
        background: white;
        display: block;
        object-fit: contain;
        aspect-ratio: 16/9;
        pointer-events: none;
      }

      .pdf-container {
        position: relative;
        width: 100%;
        height: 80vh;
        aspect-ratio: 16/9;
        overflow: hidden;
        border-radius: 8px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        background: white;
      }

      /* Target PDF viewer internal elements to force horizontal layout */
      #pdf-iframe #viewerContainer {
        writing-mode: horizontal-tb !important;
        direction: ltr !important;
        overflow-x: auto !important;
        overflow-y: hidden !important;
      }

      /* Global CSS to target viewerContainer in any PDF iframe */
      iframe #viewerContainer,
      iframe [id="viewerContainer"] {
        writing-mode: horizontal-tb !important;
        direction: ltr !important;
        overflow-x: auto !important;
        overflow-y: hidden !important;
        white-space: nowrap !important;
        width: 100% !important;
        height: 100% !important;
        display: flex !important;
        flex-direction: row !important;
        align-items: center !important;
        justify-content: center !important;
      }

      /* Force all PDF pages to display horizontally */
      iframe .page,
      iframe [class*="page"] {
        display: inline-block !important;
        width: auto !important;
        height: 100% !important;
        max-width: 100% !important;
        object-fit: contain !important;
        aspect-ratio: 16/9 !important;
      }

      #loading-indicator {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: rgba(0, 0, 0, 0.8);
        color: white;
        padding: 20px;
        border-radius: 10px;
        display: none;
        z-index: 1000;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      }

      .slide-controls {
        position: absolute;
        bottom: 20px;
        left: 20px;
        display: flex;
        align-items: center;
        gap: 15px;
        background: rgba(0, 0, 0, 0.8);
        padding: 12px 20px;
        border-radius: 10px;
        backdrop-filter: blur(10px);
        z-index: 100;
      }

      .slide-controls button {
        background: rgba(255, 255, 255, 0.2);
        border: none;
        color: white;
        width: 40px;
        height: 40px;
        border-radius: 20px;
        font-size: 20px;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .slide-controls button:hover {
        background: rgba(255, 255, 255, 0.3);
        transform: scale(1.1);
      }

      .slide-controls button:disabled {
        opacity: 0.5;
        cursor: not-allowed;
        transform: none;
      }

      #slide-info {
        color: white;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        font-size: 14px;
        min-width: 120px;
        text-align: center;
      }

      .ra-content {
        max-width: 1900px;
        margin: 0 auto;
        padding: 0.5rem;
      }

      .ra-title {
        font-size: 2.5rem;
        font-weight: 700;
        color: #1a1a1a;
        text-align: center;
        margin-bottom: 1rem;
      }

      .ra-subtitle {
        font-size: 1.2rem;
        color: #666;
        text-align: center;
        margin-bottom: 2rem;
      }
    </style>
  </head>
  <body>
    <nav class="navbar">
      <a href="../../../index.html" class="navbar__logo">FMB0_1665</a>
      <div class="navbar__bars"><i class="fas fa-bars"></i></div>
      <div class="navbar__menu">
        <a href="./ra1.html" class="navbar__menu--links">RA1</a>
        <a href="../ra2/" class="navbar__menu--links">RA2</a>
        <a href="../ra3/" class="navbar__menu--links">RA3</a>
        <a href="#" class="navbar__menu--links navbar__menu--disabled">RA4</a>
        <a href="#" class="navbar__menu--links navbar__menu--disabled">RA5</a>
        <a href="#" class="navbar__menu--links navbar__menu--disabled">RA6</a>
        <a href="../../info.html" class="navbar__menu--links">Info</a>
      </div>
    </nav>

    <div class="ra-content">

      <div class="slideshow-container">
        <!-- Custom slideshow will be injected here by JavaScript -->
        <div class="slideshow-fallback">
          <div class="slide-display">
            <div class="image-wrapper">
              <div class="pdf-container">
                <iframe id="pdf-iframe" src=""></iframe>
              </div>
              <div id="loading-indicator">Loading slide...</div>
              <div class="slide-controls">
                <button id="prev-btn" onclick="changeSlide(-1)">◀</button>
                <span id="slide-info">1 / 63 (2%)</span>
                <button id="next-btn" onclick="changeSlide(1)">▶</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="footer">
      <div class="footer__container">
        <div class="footer__left">
          <p class="footer__copyright">
            © 2025 Jorge Muñoz Zanón. Tot el contingut d'esta pàgina està llicenciat sota 
              <a href="https://opensource.org/licenses/MIT" target="_blank" rel="noopener noreferrer">Llicència MIT</a> 
              tret que s'indique el contrari.
          </p>
        </div>
        <div class="footer__right">
          <div class="footer__social">
            <a href="https://github.com/jmuozan/FMB01_1665_IPompeuFabra" target="_blank" rel="noopener noreferrer" class="footer__social--link">
              <i class="fab fa-github"></i>
            </a>
            <a href="https://www.linkedin.com/in/jorgemunozzanon/" target="_blank" rel="noopener noreferrer" class="footer__social--link">
              <i class="fab fa-linkedin"></i>
            </a>
          </div>
        </div>
      </div>
    </div>

    <script src="./scripts/native-clean-pdf-slideshow.js"></script>
  </body>
</html>